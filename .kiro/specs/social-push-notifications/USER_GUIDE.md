# Push Notifications User Guide

## Table of Contents
1. [Getting Started](#getting-started)
2. [Enabling Push Notifications](#enabling-push-notifications)
3. [Managing Notification Preferences](#managing-notification-preferences)
4. [Understanding Notification Types](#understanding-notification-types)
5. [Troubleshooting](#troubleshooting)
6. [Frequently Asked Questions](#frequently-asked-questions)

---

## Getting Started

Push notifications keep you instantly updated about social interactions in the OTW app. You'll receive real-time alerts when:
- Someone sends you a friend request
- Someone accepts your friend request
- A friend shares a venue with you
- And more social activities

Push notifications work even when the app is closed, so you never miss important updates from your friends.

---

## Enabling Push Notifications

### First Time Setup

When you first launch the OTW app, you'll be prompted to enable push notifications:

1. **iOS Users:**
   - A system dialog will appear asking for notification permission
   - Tap **"Allow"** to enable push notifications
   - You can choose between:
     - **Allow**: Receive all notifications
     - **Don't Allow**: Disable push notifications

2. **Android Users:**
   - A system dialog will appear asking for notification permission
   - Tap **"Allow"** to enable push notifications
   - You can choose:
     - **Allow**: Receive all notifications
     - **Don't Allow**: Disable push notifications

### If You Missed the Initial Prompt

If you accidentally denied permission or want to enable notifications later:

#### iOS:
1. Open your device **Settings** app
2. Scroll down and tap **OTW**
3. Tap **Notifications**
4. Toggle **Allow Notifications** to ON
5. Restart the OTW app

#### Android:
1. Open your device **Settings** app
2. Tap **Apps** or **Applications**
3. Find and tap **OTW**
4. Tap **Notifications**
5. Toggle **Show notifications** to ON
6. Restart the OTW app

### Enabling from OTW Settings

You can also manage push notifications from within the app:

1. Open the OTW app
2. Tap the **Profile** tab at the bottom
3. Tap the **Settings** icon (gear icon)
4. Find the **Notifications** section
5. Toggle **Push Notifications** to ON
6. If device permissions are denied, you'll see a button to open device settings

---

## Managing Notification Preferences

You have fine-grained control over which types of notifications you receive.

### Accessing Notification Preferences

1. Open the OTW app
2. Tap the **Profile** tab
3. Tap **Settings** (gear icon)
4. Scroll to the **Notifications** section

### Available Notification Types

You can enable or disable each notification type individually:

#### Friend Request Notifications
- **What it is:** Alerts when someone sends you a friend request
- **When you'll receive it:** Immediately when a friend request is sent
- **What happens when tapped:** Opens the Friend Requests screen

#### Friend Accepted Notifications
- **What it is:** Alerts when someone accepts your friend request
- **When you'll receive it:** Immediately when your request is accepted
- **What happens when tapped:** Opens the friend's profile

#### Venue Share Notifications
- **What it is:** Alerts when a friend shares a venue with you
- **When you'll receive it:** Immediately when a venue is shared
- **What happens when tapped:** Opens the venue detail screen

#### Collection Follow Notifications
- **What it is:** Alerts when someone follows your collection
- **When you'll receive it:** Immediately when someone follows
- **What happens when tapped:** Opens your collection

#### Activity Like Notifications
- **What it is:** Alerts when someone likes your activity
- **When you'll receive it:** Immediately when someone likes
- **What happens when tapped:** Opens the activity feed

#### Activity Comment Notifications
- **What it is:** Alerts when someone comments on your activity
- **When you'll receive it:** Immediately when someone comments
- **What happens when tapped:** Opens the activity with comments

### Customizing Your Preferences

1. In the **Notifications** section of Settings
2. Toggle each notification type ON or OFF based on your preferences
3. Changes are saved automatically
4. Your preferences sync across all your devices

### Important Notes

- **In-App Notifications:** Even if you disable push notifications, you'll still see notifications in the app's notification center
- **Instant Sync:** Preference changes apply immediately across all your devices
- **Master Toggle:** The main "Push Notifications" toggle controls all push notifications. Individual toggles only work when the master toggle is ON

---

## Understanding Notification Types

### Push Notifications vs In-App Notifications

**Push Notifications:**
- Appear on your device's lock screen and notification tray
- Work even when the app is closed
- Make a sound and/or vibration (based on device settings)
- Show a banner at the top of your screen

**In-App Notifications:**
- Appear in the app's notification center (bell icon)
- Only visible when you open the app
- Always created, regardless of push notification settings
- Marked as read when you view them

### Notification Behavior by App State

**When App is Closed:**
- Push notification appears in device notification tray
- Tapping opens the app to the relevant screen
- Notification badge updates on app icon

**When App is in Background:**
- Push notification appears in device notification tray
- Tapping brings app to foreground and navigates
- Notification badge updates

**When App is Open (Foreground):**
- In-app banner appears at the top of the screen
- Notification added to notification center
- No device notification tray alert (to avoid duplication)

---

## Troubleshooting

### I'm Not Receiving Push Notifications

#### Step 1: Check Device Permissions

**iOS:**
1. Go to device **Settings** > **OTW** > **Notifications**
2. Ensure **Allow Notifications** is ON
3. Check that **Lock Screen**, **Notification Center**, and **Banners** are enabled

**Android:**
1. Go to device **Settings** > **Apps** > **OTW** > **Notifications**
2. Ensure **Show notifications** is ON
3. Check that notification categories are enabled

#### Step 2: Check App Settings

1. Open OTW app
2. Go to **Profile** > **Settings**
3. Scroll to **Notifications** section
4. Ensure **Push Notifications** toggle is ON
5. Ensure the specific notification type you want is enabled

#### Step 3: Check Internet Connection

- Push notifications require an active internet connection
- Try switching between WiFi and mobile data
- Check if other apps are receiving notifications

#### Step 4: Restart the App

1. Completely close the OTW app (swipe up from app switcher)
2. Reopen the app
3. Wait a few seconds for the connection to establish

#### Step 5: Reinstall the App (Last Resort)

If nothing else works:
1. Uninstall the OTW app
2. Reinstall from the App Store or Google Play
3. Log back in
4. Re-enable push notifications when prompted

### Push Notifications Are Delayed

**Possible Causes:**
- **Battery Saver Mode:** Disable battery optimization for OTW
- **Poor Network:** Switch to a stronger WiFi or mobile data connection
- **Background App Refresh:** Ensure it's enabled for OTW (iOS)

**Solutions:**

**iOS:**
1. Go to **Settings** > **General** > **Background App Refresh**
2. Ensure it's ON for OTW

**Android:**
1. Go to **Settings** > **Apps** > **OTW** > **Battery**
2. Select **Unrestricted** or **Optimized** (not Restricted)

### I Accidentally Denied Permission

Don't worry! You can re-enable it:

1. Follow the steps in [Enabling Push Notifications](#enabling-push-notifications)
2. Or tap the "Open Settings" button in the OTW app's notification settings
3. This will take you directly to the device settings for OTW

### Notifications Appear But Don't Make Sound

**iOS:**
1. Check device **Settings** > **Sounds & Haptics**
2. Ensure volume is up and not in Silent Mode
3. Go to **Settings** > **OTW** > **Notifications**
4. Ensure **Sounds** is enabled

**Android:**
1. Go to **Settings** > **Apps** > **OTW** > **Notifications**
2. Tap each notification category
3. Ensure **Sound** is enabled and a sound is selected
4. Check device volume settings

### I'm Receiving Too Many Notifications

You can customize which notifications you receive:

1. Open OTW app
2. Go to **Profile** > **Settings** > **Notifications**
3. Disable specific notification types you don't want
4. Keep the ones you find valuable

**Tip:** You can disable push notifications but still see in-app notifications by turning off the master "Push Notifications" toggle.

### Notifications Don't Open the Right Screen

This might be a temporary issue:

1. Make sure you're running the latest version of OTW
2. Try tapping the notification again
3. If it persists, manually navigate to the notification center in the app
4. Report the issue through **Settings** > **Help & Support**

### Multiple Devices Receiving Notifications

This is normal! If you're logged into OTW on multiple devices:
- All devices will receive push notifications
- This ensures you never miss an update
- Notification preferences sync across all devices
- Reading a notification on one device doesn't affect others

---

## Frequently Asked Questions

### Do push notifications use a lot of battery?

No. Push notifications are designed to be battery-efficient. They use Firebase Cloud Messaging, which maintains a single connection for all apps, minimizing battery drain.

### Will I receive notifications when I'm using the app?

When the app is open, you'll see in-app notification banners instead of device push notifications. This prevents duplicate alerts.

### Can I customize notification sounds?

Currently, OTW uses the default notification sound for your device. Custom sounds may be added in a future update.

### Do notifications work without internet?

No. Push notifications require an active internet connection (WiFi or mobile data) to be delivered.

### Are my notification preferences private?

Yes. Your notification preferences are stored securely and are only visible to you. Other users cannot see your notification settings.

### What happens to notifications when I log out?

When you log out:
- Your device will stop receiving push notifications
- In-app notifications remain in the database
- When you log back in, you'll see any notifications you missed
- Push notifications will resume

### Can I snooze notifications?

Device-level snoozing depends on your phone's operating system:
- **iOS:** Swipe left on a notification and tap "Options" > "Deliver Quietly"
- **Android:** Long-press a notification and tap "Snooze" (if available)

### How do I report a problem with notifications?

1. Open OTW app
2. Go to **Profile** > **Settings**
3. Tap **Help & Support**
4. Select **Report a Problem**
5. Choose "Notifications" as the category
6. Describe the issue you're experiencing

### Will I be charged for push notifications?

No. Push notifications are completely free. However, they do use a small amount of data, so if you're on a limited data plan, be aware of your overall data usage.

### Can I test if push notifications are working?

Yes! There's a debug feature for testing:

1. Go to **Profile** > **Settings**
2. Scroll to **Developer Options** (if enabled)
3. Tap **Notification Debug**
4. Tap **Send Test Notification**
5. You should receive a test notification immediately

*Note: Developer Options may not be visible in production builds.*

---

## Need More Help?

If you're still experiencing issues with push notifications:

1. **Check the Troubleshooting Guide:** See the [Troubleshooting](#troubleshooting) section above
2. **Contact Support:** Go to **Profile** > **Settings** > **Help & Support**
3. **Check for Updates:** Make sure you're running the latest version of OTW
4. **Visit Our Help Center:** [help.otw.app](https://help.otw.app) (example URL)

---

## Version Information

This guide is for OTW app version 2.0 and later with push notification support.

Last updated: January 2026
